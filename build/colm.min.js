colm=function(){var e,t=function(e){return"length"in e?Array.prototype.slice.call(e,0):[e]},n=function(e,t){return e.getAttribute("data-colm-"+t)},r=function(e,t,n){e.setAttribute("data-colm-"+t,n)},i=function(e,t){e.removeAttribute("data-colm-"+t)},a=function(e,n){t(e).forEach(n)},o=document,l=function c(){function i(e,t){return"\n[data-colm-processed]"+e.replace(/\bd-\b/g,"data-colm-")+" {"+t.split(";").map(function(e){return e.match(/\bx-/)?e.replace(/\bx-/,"-webkit-")+";"+e.replace(/\bx-/,""):e}).join(";")+"}\n"}function l(e,t){return i('[d-align-columns~="'+e+'"]',"x-justify-content:"+t)}function d(e,t){return i('[d-done][d-align-items~="'+e+'"] > *',"x-justify-content:"+t)}if(!e){e=!0;var s=o.createElement("style");s.innerHTML=i("","display:x-flex; x-flex-flow:row;x-align-items:flex-start;x-justify-content:flex-start")+i(" > *","display:x-flex;x-flex-flow:column;x-justify-content:flex-start;box-sizing:border-box;x-flex-basis:100%")+i('[d-align-items~="stretch"] > * > *',"x-flex-grow:1")+i('[d-align-columns~="stretch"] > *',"x-flex-grow:1")+i("[d-min-width] > *","x-flex-shrink:1")+i("[d-done]","x-align-items:stretch")+l("left","flex-start")+l("right","flex-end")+l("center","center")+l("justify","space-between")+l("space","space-around")+l("stretch","stretch")+d("top","flex-start")+d("bottom","flex-end")+d("center","center")+d("justify","space-between")+d("space","space-around")+d("stretch","stretch"),o.head.appendChild(s)}a(o.querySelectorAll("[data-colm-width]"),function(e){function i(e){return parseFloat(s[e])}var l=+n(e,"width"),d=+n(e,"min-width"),s=getComputedStyle(e),f=i("width");"border-box"==s["box-sizing"]&&(f-=i("border-left-width")+i("padding-left")+i("padding-right")+i("border-right-width"));var u,x=f,h=Math.max(Math.floor(x/l),1);if(d){var p=h+1,m=x/h,g=x/p,b=Math.abs(l-m),y=Math.abs(l-g);u=y>b||d>g?h:p}else u=h;var w=[];if(n(e,"processed")){if(e.children.length==u)return;a(e.children,function(e){a(e.children,function(e){w[n(e,"index")]=e})})}else w=t(e.children),r(e,"processed","true"),r(e,"count",0);r(e,"columns",u),e.innerHTML="";for(var v=0;u>v;v++){var M=o.createElement("DIV");r(M,"column",v+1),r(M,0==v?"first":"not-first","true"),r(M,v==u-1?"last":"not-last","true"),M.setAttribute("style","-webkit-flex-basis:"+l+"px;flex-basis:"+l+"px"),e.appendChild(M)}c.appendTo(e,w)})};return l.appendTo=function(e,l){if("string"==typeof e&&(e=o.querySelector(e)),"string"==typeof l&&(l=o.createRange().createContextualFragment(l).children),!n(e,"processed"))return void a(l,function(t){e.appendChild(t)});i(e,"done");var c=t(e.children),d=n(e,"count");a(l,function(e){n(e,"index")||r(e,"index",d++);var t=+n(e,"place");if(t)t=0>t?Math.max(0,c.length+t):Math.min(c.length-1,t-1),c[t].appendChild(e);else{var i=c.reduce(function(e,t){return!e||t.offsetHeight<e.offsetHeight?t:e},null);i.appendChild(e)}}),r(e,"done","true"),r(e,"count",d)},addEventListener("resize",l),addEventListener("load",l),l}();
