colm=function(){var e,t=function(e){return"length"in e?Array.prototype.slice.call(e,0):[e]},n=function(e,t){return e.getAttribute("data-colm-"+t)},r=function(e,t,n){e.setAttribute("data-colm-"+t,n)},i=function(e,t){e.removeAttribute("data-colm-"+t)},o=function(e,n){t(e).forEach(n)},a=function(e){return e.parentNode.removeChild(e)},l=document,c=function d(){function i(e,t){return"\n[data-colm-processed]"+e.replace(/\bd-\b/g,"data-colm-")+" {"+t.split(";").map(function(e){return e.match(/\bx-/)?e.replace(/\bx-/,"-webkit-")+";"+e.replace(/\bx-/,""):e}).join(";")+"}\n"}function c(e,t){return i('[d-align-columns~="'+e+'"]',"x-justify-content:"+t)}function s(e,t){return i('[d-done][d-align-items~="'+e+'"] > *',"x-justify-content:"+t)}if(!e){if(void 0===document.body.style.flexWrap)return;e=!0;var f=l.createElement("style");f.innerHTML=i("","display:x-flex; x-flex-flow:row;x-align-items:flex-start;x-justify-content:flex-start")+i(" > *","display:x-flex;x-flex-flow:column;x-justify-content:flex-start;box-sizing:border-box;x-flex-basis:100%")+i('[d-align-items~="stretch"] > * > *',"x-flex-grow:1")+i('[d-align-columns~="stretch"] > *',"x-flex-grow:1")+i("[d-min-width] > *","x-flex-shrink:1")+i("[d-done]","x-align-items:stretch")+c("left","flex-start")+c("right","flex-end")+c("center","center")+c("justify","space-between")+c("space","space-around")+c("stretch","stretch")+s("top","flex-start")+s("bottom","flex-end")+s("center","center")+s("justify","space-between")+s("space","space-around")+s("stretch","stretch"),l.head.appendChild(f)}o(l.querySelectorAll("[data-colm-width]"),function(e){function i(e){return parseFloat(f[e])}var c=+n(e,"width"),s=+n(e,"min-width"),f=getComputedStyle(e),u=i("width");"border-box"==f["box-sizing"]&&(u-=i("border-left-width")+i("padding-left")+i("padding-right")+i("border-right-width"));var x,p=u,h=Math.max(Math.floor(p/c),1);if(s){var m=h+1,b=p/h,g=p/m,y=Math.abs(c-b),v=Math.abs(c-g);x=v>y||s>g?h:m}else x=h;var w=[];if(n(e,"processed")){if(e.children.length==x)return;o(e.children,function(e){o(e.children,function(e){w[n(e,"index")]=a(e)})})}else w=t(e.children).map(a),r(e,"processed","true"),r(e,"count",0);r(e,"columns",x),e.innerHTML="";for(var C=0;x>C;C++){var M=l.createElement("DIV");r(M,"column",C+1),r(M,0==C?"first":"not-first","true"),r(M,C==x-1?"last":"not-last","true"),M.setAttribute("style","-webkit-flex-basis:"+c+"px;flex-basis:"+c+"px"),e.appendChild(M)}d.appendTo(e,w)})};return c.appendTo=function(e,a){if("string"==typeof e&&(e=l.querySelector(e)),"string"==typeof a&&(a=l.createRange().createContextualFragment(a).children),!n(e,"processed"))return void o(a,function(t){e.appendChild(t)});i(e,"done");var c=t(e.children),d=n(e,"count");o(a,function(e){n(e,"index")||r(e,"index",d++);var t=+n(e,"place");if(t)t=0>t?Math.max(0,c.length+t):Math.min(c.length-1,t-1),c[t].appendChild(e);else{var i=c.reduce(function(e,t){return!e||t.offsetHeight<e.offsetHeight?t:e},null);i.appendChild(e)}}),r(e,"done","true"),r(e,"count",d)},addEventListener("resize",c),addEventListener("load",c),c}();
